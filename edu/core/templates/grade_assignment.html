<!-- assignment_detail.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ assignment.title }} Details</title>
</head>
<body>
    <h1>{{ assignment.title }}</h1>
    <p><strong>Description:</strong> {{ assignment.description }}</p>
    <p><strong>Created By:</strong> {{ assignment.created_by.username }}</p>
    
    <h2>Grades</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Student</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
            {% for grade in assignment.grade_set.all %}
            <tr>
                <td>{{ grade.student.username }}</td>
                <td>{{ grade.grade }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3">No grades submitted yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2>Grade Assignment</h2>
    <form method="post" action="{% url 'grade_assignment' assignment.id %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Submit Grade</button>
    </form>
</body>
</html>
